# وحدة الأصول الثابتة - Fixed Assets Module

## نظرة عامة
وحدة شاملة لإدارة الأصول الثابتة في نظام ERP تتضمن جميع العمليات اللازمة لإدارة دورة حياة الأصول من الشراء إلى الاستبعاد.

## الصفحات المتضمنة

### 1. AssetGroups.jsx - صفحة مجموعات الأصول
- **الغرض**: إدارة وتصنيف الأصول في مجموعات
- **الميزات**:
  - إضافة وتعديل وحذف مجموعات الأصول
  - تحديد طريقة الإهلاك والعمر المفيد لكل مجموعة
  - رفع صور للمجموعات
  - إحصائيات سريعة عن المجموعات
  - حساب معدل الإهلاك التلقائي

### 2. FixedAssets.jsx - صفحة الأصول الثابتة
- **الغرض**: إدارة شاملة للأصول الثابتة الفردية
- **الميزات**:
  - إضافة وتعديل وحذف الأصول الثابتة
  - ربط كل أصل بمجموعة محددة
  - رفع متعدد للصور والمستندات
  - تتبع دورة حياة الأصل
  - بحث وتصفية متقدمة
  - عرض تفصيلي مع جدول الإهلاك
  - حساب القيمة الحالية تلقائياً

### 3. DepreciationSchedule.jsx - صفحة جدول الإهلاك
- **الغرض**: حساب ومتابعة إهلاك الأصول
- **الميزات**:
  - حساب جدول الإهلاك التلقائي
  - عدة طرق للإهلاك (خط مستقيم، رصيد متناقص، مجموع أرقام السنوات)
  - تحرير يدوي لجداول الإهلاك
  - عرض مفصل وملخص شامل
  - تصدير وطباعة التقارير
  - مقارنة إهلاك الأصول

### 4. Maintenance.jsx - صفحة الصيانة
- **الغرض**: إدارة صيانة الأصول الثابتة
- **الميزات**:
  - إنشاء سجلات صيانة (وقائية، تصحيحية، طارئة)
  - تحديد أولويات الصيانة
  - تتبع التكاليف وقطع الغيار
  - إدارة الفنيين المسؤولين
  - تغيير حالة الصيانة (مجدول، قيد التنفيذ، مكتمل)
  - إحصائيات الصيانة والأداء

### 5. Disposal.jsx - صفحة الاستبعاد
- **الغرض**: إدارة استبعاد الأصول الثابتة
- **الميزات**:
  - تسجيل عمليات الاستبعاد (بيع، تبرع، تدمير، خردة)
  - حساب الربح/الخسارة من الاستبعاد
  - نظام موافقات للاستبعاد
  - إدارة بيانات المشترين والمستندات
  - ربط حالة الأصل بعملية الاستبعاد
  - تقارير مالية للاستبعادات

### 6. AssetReports.jsx - صفحة تقارير الأصول
- **الغرض**: تقارير شاملة وتحليلات متقدمة
- **الميزات**:
  - تقرير شامل للأصول (نظرة عامة)
  - تقرير الأصول حسب الفئة
  - تقرير الإهلاك التفصيلي
  - تقرير أداء الصيانة
  - تقرير نتائج الاستبعاد
  - تصدير بصيغ مختلفة (PDF, Excel)
  - تحذيرات وتوصيات ذكية
  - فلاتر متقدمة للتقارير

## البنية التقنية

### Data Context Updates
تم تحديث `DataContext.jsx` لإضافة:
- `assetGroups` - مجموعات الأصول
- `fixedAssets` - الأصول الثابتة
- `maintenanceRecords` - سجلات الصيانة
- `disposalRecords` - سجلات الاستبعاد
- `depreciationMethods` - طرق الإهلاك

### الميزات التقنية

#### 1. إدارة الصور
- رفع متعدد للصور لكل أصل
- معاينة الصور داخل النظام
- ضغط وتحسين الصور تلقائياً

#### 2. حساب الإهلاك التلقائي
- عدة طرق حسابية للإهلاك
- حساب القيمة الحالية تلقائياً
- جداول إهلاك تفاعلية

#### 3. البحث والتصفية
- بحث نصي في جميع الحقول
- تصفية حسب الفئة والمجموعة والحالة
- ترتيب متعدد المعايير

#### 4. التقارير والتصدير
- تقارير تفاعلية
- تصدير بصيغ متعددة
- طباعة مباشرة من المتصفح

#### 5. نظام الموافقات
- موافقات متعددة المستويات
- تتبع تاريخ الموافقات
- إشعارات للمستخدمين

## التبعيات المطلوبة
- React
- React Router DOM
- React Icons (Fa- Icons)
- Local Storage للبيانات

## طريقة الاستخدام

### 1. إعداد البيانات
```javascript
import { useData } from '../context/DataContext';

const { assetGroups, fixedAssets, setFixedAssets } = useData();
```

### 2. إضافة أصل جديد
```javascript
const newAsset = {
  name: 'اسم الأصل',
  purchasePrice: 10000,
  // ... باقي البيانات
};
setFixedAssets([...fixedAssets, { ...newAsset, id: Date.now() }]);
```

### 3. حساب الإهلاك
```javascript
const schedule = calculateDepreciationSchedule(asset, assetGroup);
// إرجاع جدول إهلاك كامل
```

## التطوير المستقبلي

### ميزات مطلوبة
1. **تقويم الصيانة** - عرض بصري لمواعيد الصيانة
2. **تطبيق موبايل** - للوصول السريع للصيانة الطارئة
3. **تكامل مع المحاسبة** - ربط الإهلاك بدفتر اليومية
4. **ذكاء اصطناعي** - التنبؤ بأعطال الأصول
5. **باركود متقدم** - مسح سريع للأصول

### تحسينات الأداء
1. **تحميل تدريجي** - للأصول الكثيرة
2. **ذاكرة تخزين مؤقت** - لتقليل استعلامات قاعدة البيانات
3. **ضغط البيانات** - لتحسين سرعة النقل

## الدعم والصيانة
- الكود موثق بالكامل باللغة العربية
- تعليقات واضحة لكل دالة ومكون
- معالجة أخطاء شاملة
- واجهة مستخدم متجاوبة

---

**ملاحظة**: هذه الوحدة جزء من نظام ERP متكامل وتدعم جميع المعايير المحاسبية المحلية والدولية.
